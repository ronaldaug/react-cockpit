{"version":3,"sources":["services/validate.js","components/auth/register.js","services/token.js","components/auth/login.js","hooks/useFetch.js","components/pages/dashboard.js","components/footer.js","components/pages/quiz/add.js","components/pages/notFound.js","components/pages/game/join.js","components/navbar.js","components/pages/quiz/detail.js","components/pages/quiz/edit.js","components/pages/results.js","App.jsx","index.jsx"],"names":["validateResponse","status","message","validateLogin","email","password","test","validateRegister","username","Copyright","Typography","variant","color","align","Link","href","Date","getFullYear","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","Register","classes","useState","setUsername","setPassword","setEmail","error","setError","history","useHistory","submitRegister","e","a","preventDefault","register_data","name","payload","method","body","JSON","stringify","headers","register_url","process","fetch","response","json","result","console","log","alert","push","Container","component","maxWidth","CssBaseline","className","Avatar","Alert","style","severity","onSubmit","noValidate","Grid","container","item","xs","TextField","required","fullWidth","id","label","autoComplete","onChange","target","value","type","Button","justify","Box","mt","checkAuth","localStorage","getItem","parse","auth","token","getToken","obj","root","height","image","backgroundImage","backgroundRepeat","grey","backgroundSize","backgroundPosition","SignInSide","submitLogin","login_data","login_url","setItem","String","sm","md","Paper","elevation","square","autoFocus","FormControlLabel","control","Checkbox","useFetch","url","holded","setHolded","loading","setPending","useEffect","abortCont","AbortController","signal","arr","quizzes","abort","length","icon","marginRight","heroContent","background","padding","heroButtons","cardGrid","paddingTop","paddingBottom","card","cardMedia","cardContent","flexGrow","Album","open","setOpen","success","setSuccess","setQuizzes","sessionId","setSessionId","startModal","setStartModal","endModal","setEndModal","deleteId","setDeleteId","copytext","setCopytext","deleteQuiz","quizid","quiz_url","deleted","filter","q","startOrEnd","action","temp","startTheGame","isActive","map","quiz","active","Card","to","thumbnail","CardMedia","title","CardContent","gutterBottom","CardActions","onClick","size","startIcon","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogActions","navigator","clipboard","writeText","footer","setQuiz","submitNewQuiz","new_quiz_url","hasOwnProperty","setTimeout","Notfound","JoinGame","playerName","setPlayerName","sid","useParams","joinTheGame","join_url","disabled","menuButton","ButtonAppBar","anchorEl","setAnchorEl","Boolean","handleClose","AppBar","position","Toolbar","IconButton","aria-label","aria-controls","aria-haspopup","event","currentTarget","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","removeItem","SingleQuiz","single_quiz_url","questions","alt","idex","question","formControl","selectEmpty","time","setTime","point","setPoint","NewQuestion","setNewQuestion","selected","setSelected","handleChange","updateQuiz","InputLabelProps","shrink","FormControl","InputLabel","Select","labelId","index","questionArray","addNewQuestion","Results","results","setResults","res","data","r","i","App","location","useLocation","isLoggedIn","setIsLoggedIn","pathname","path","exact","Login","Dashboard","AddNewQuiz","EditQuiz","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6af9f018.chunk.js","sourcesContent":["const validateResponse = (status,message) => {\n    return { status, message }\n}\n\nexport const validateLogin = (email,password) =>{\n\n    if(!email){\n        return validateResponse(false,'Please fill out email');\n    }\n\n    const reg = /^(([^<>()[\\]\\\\.,;:\\s@']+(\\.[^<>()[\\]\\\\.,;:\\s@']+)*)|('.+'))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    if(!reg.test(email)){\n        return validateResponse(false,'Invalid email format');\n    }\n\n    if(!password){\n        return validateResponse(false,'Please fill out password');\n    }\n\n    return validateResponse(true,'Validation passed!');\n}\n\nexport const validateRegister = (username,email,password) =>{\n\n    if(!username){\n        return validateResponse(false,'Please fill out username');\n    }\n\n    if(!password){\n        return validateResponse(false,'Please fill out password');\n    }\n\n    if(!email){\n        return validateResponse(false,'Please fill out email');\n    }\n\n    const reg = /^(([^<>()[\\]\\\\.,;:\\s@']+(\\.[^<>()[\\]\\\\.,;:\\s@']+)*)|('.+'))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    if(!reg.test(email)){\n        return validateResponse(false,'Invalid email format');\n    }\n\n    return validateResponse(true,'Validation passed!');\n}","import {useState} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport Avatar from '@material-ui/core/Avatar';\nimport Alert from '@material-ui/lab/Alert';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport {validateRegister} from '../../services/validate';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Your Website\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function Register() {\n  const classes = useStyles();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  const [error, setError] = useState('');\n  const history = useHistory();\n\n  const submitRegister = async (e) => {\n      e.preventDefault();\n    // const emailValue    = document.getElementById('emailRegister').value;\n    // const passwordValue = document.getElementById('passwordRegister').value;\n    // const usernameValue = document.getElementById('usernameRegister').value;\n\n    // const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    // if (!emailValue === '') {\n    //   alert('Input your Email!');\n    //   return false;\n    // } else if (!re.test(emailValue)) {\n    //   alert('Invalid email format!');\n    //   return false;\n    // } else if (passwordValue === '') {\n    //   alert('Input your password!');\n    //   return false;\n    // } else if (usernameValue === '') {\n    //   alert('Input UserName!');\n    //   return false;\n    // }\n\n\n    const {status,message} = validateRegister(username, email, password);\n    if(!status){\n      setError(message)\n      return;\n    }\n\n    const register_data = {\n      name:username,\n      email,\n      password\n    }\n\n    const payload = {\n      method: 'POST',\n      body: JSON.stringify(register_data),\n      headers: {\n        'Content-Type': 'application/json'\n      },\n    }\n\n    try{\n\n    const register_url  = `${process.env.REACT_APP_BACKEND_URL}:${process.env.REACT_APP_BACKEND_PORT}/admin/auth/register`;\n    const response      = await fetch(register_url, payload)\n    const result        = await response.json();\n\n      if (response.status !== 200) {\n        setError('Register Failed, try again.');\n        return;\n      }\n\n      console.log(result);\n      alert('Register Success');\n      history.push('/');\n\n  }catch(err){\n    setError(err)\n  }\n\n  }\n\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign up\n        </Typography>\n        {error && (<Alert style={{width:'100%'}} severity=\"error\">\n            {error}\n          </Alert>)}\n        <form onSubmit={submitRegister} className={classes.form} noValidate>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"username\"\n                label=\"Username\"\n                name=\"username\"\n                autoComplete=\"uname\"\n                onChange={(e)=>setUsername(e.target.value)}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"email\"\n                label=\"Email Address\"\n                name=\"email\"\n                autoComplete=\"email\"\n                onChange={(e)=>setEmail(e.target.value)}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                autoComplete=\"current-password\"\n                onChange={(e)=>setPassword(e.target.value)}\n              />\n            </Grid>\n            {/* <Grid item xs={12}>\n              <FormControlLabel\n                control={<Checkbox value=\"allowExtraEmails\" color=\"primary\" />}\n                label=\"I want to receive inspiration, marketing promotions and updates via email.\"\n              />\n            </Grid> */}\n          </Grid>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            Sign Up\n          </Button>\n          <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Link href=\"/\" variant=\"body2\">\n                Already have an account? Sign in\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n      <Box mt={5}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}","export const saveToken = (obj)=>{\n    localStorage.setItem('jwt_auth',JSON.stringify(obj));\n}\n\nexport const checkAuth = async ()=>{\n    return await localStorage.getItem('jwt_auth') ? JSON.parse(localStorage.getItem('jwt_auth')) : {auth:false,token:null};\n}\n\nexport const getToken = async ()=>{\n    const obj = await localStorage.getItem('jwt_auth') ? JSON.parse(localStorage.getItem('jwt_auth')) : {auth:false,token:null};\n    return obj.token;\n}\n\nexport const clearToken = ()=>{\n    localStorage.removeItem('jwt_auth');\n}","import {useState} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Alert from '@material-ui/lab/Alert';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { validateLogin } from '../../services/validate';\nimport { saveToken } from '../../services/token';\nimport { useHistory } from 'react-router-dom';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Your Website\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n  },\n  image: {\n    backgroundImage: 'url(https://source.unsplash.com/random)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignInSide() {\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const history = useHistory();\n  const classes = useStyles();\n\n\n  const submitLogin = async (e) => {\n    e.preventDefault();\n\n    const {status,message} = validateLogin(email, password);\n    if(!status){\n      setError(message)\n      return;\n    }\n\n    const login_data = { email, password };\n\n    const payload = {\n      method: 'POST',\n      body: JSON.stringify(login_data),\n      headers: {\n        'Content-Type': 'application/json'\n      },\n    }\n\n    try {\n\n      const login_url = `${process.env.REACT_APP_BACKEND_URL}:${process.env.REACT_APP_BACKEND_PORT}/admin/auth/login`;\n      const response  = await fetch(login_url, payload);\n      const result    = await response.json();\n\n      if (response.status !== 200) {\n        setError('Invalid email or password.');\n        return;\n      }\n\n      saveToken({auth:true,token:result.token});\n      history.push('/dashboard');\n\n    } catch (err) {\n\n      setError(String(err));\n\n    }\n\n  }\n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          {error && (<Alert style={{width:'100%'}} severity=\"error\">\n            {error}\n          </Alert>)}\n          <form onSubmit={submitLogin} className={classes.form} noValidate>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              autoComplete=\"email\"\n              autoFocus\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <FormControlLabel\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\n              label=\"Remember me\"\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n            >\n              Sign In\n            </Button>\n            <Grid container>\n              <Grid item xs>\n                <Link href=\"#\" variant=\"body2\">\n                  Forgot password?\n                </Link>\n              </Grid>\n              <Grid item>\n                <Link href=\"/register\" variant=\"body2\">\n                  {\"Don't have an account? Sign Up\"}\n                </Link>\n              </Grid>\n            </Grid>\n            <Box mt={5}>\n              <Copyright />\n            </Box>\n          </form>\n        </div>\n      </Grid>\n    </Grid>\n  );\n}","import {useState,useEffect} from 'react';\nimport {getToken} from './../services/token';\n\nconst useFetch = async (url, holded, setHolded , type) => {\n\n    const [error,setError]     = useState(null);\n    const [loading,setPending] = useState(false);\n\n    useEffect(() => {\n\n      (async()=>{\n\n        const abortCont = new AbortController();\n        const token     = await getToken();\n\n        try {\n\n          setPending(true);\n          const response = await fetch(url,{\n            signal  : abortCont.signal,\n            headers : {\n              \"Content-Type\"  : \"application/json\",\n              \"Authorization\" : \"Bearer \"+token\n            }\n          });\n\n          const result = await response.json();\n          if(setHolded){\n             let arr = type === 'quiz'?result.quizzes:result;\n             setHolded(arr);\n          }\n          setPending(false);\n\n        } catch (err) {\n\n          if(err.name === 'AbortError'){\n              abortCont.abort();\n              return;\n          }\n\n          setError(String(err));\n          setPending(false);\n\n        }\n\n      })()\n\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    },holded?[holded.length]:[])\n\n    return {error,loading}\n}\n\nexport default useFetch;","import React,{useState} from 'react';\nimport useFetch from './../../hooks/useFetch';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Alert from '@material-ui/lab/Alert';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { getToken } from '../../services/token'\nimport { Link } from 'react-router-dom';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport StopIcon from '@material-ui/icons/Stop';\n\nconst useStyles = makeStyles((theme) => ({\n  icon: {\n    marginRight: theme.spacing(2),\n  },\n  heroContent: {\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(2, 0, 2),\n  },\n  heroButtons: {\n    marginTop: theme.spacing(4),\n  },\n  cardGrid: {\n    paddingTop: theme.spacing(8),\n    paddingBottom: theme.spacing(8),\n  },\n  card: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  cardMedia: {\n    paddingTop: '56.25%', // 16:9\n  },\n  cardContent: {\n    flexGrow: 1,\n  }\n}));\n\n// const cards = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n\nexport default function Album() {\n  const classes = useStyles();\n  const [open,setOpen] = useState(false);\n  const [success,setSuccess] = useState('');\n  const [quizzes,setQuizzes] = useState([]);\n  const [sessionId,setSessionId] = useState('');\n  const [startModal,setStartModal] = useState(false);\n  const [endModal,setEndModal] = useState(false);\n  const [deleteId,setDeleteId] = useState('');\n  const [copytext,setCopytext] = useState('copy');\n\n  const deleteQuiz = async(quizzes,quizid)=>{\n        const token = await getToken();\n        try {\n\n          const quiz_url = `${process.env.REACT_APP_BACKEND_URL}:${process.env.REACT_APP_BACKEND_PORT}/admin/quiz/${quizid}`;\n          const response  = await fetch(quiz_url,{\n            method:\"DELETE\",\n            headers:{\n              \"Content-Type\":\"application/json\",\n              \"Authorization\":\"Bearer \"+token\n            },\n            body:JSON.stringify({quizid})\n          });\n          await response.json();\n\n          // if (response.status !== 200) {\n          //   setError('Something went wrong with the server.');\n          //   return;\n          // }\n\n          let deleted = quizzes.filter(q=>q.id !== quizid);\n          setQuizzes(deleted);\n\n          setOpen(false);\n          setSuccess(\"Successfully deleted a quiz\");\n\n        } catch (err) {\n          // setError(String(err));\n        }\n  }\n\n  const startOrEnd = async(quizid,action)=>{\n\n    const token    = await getToken();\n    const quiz_url = `${process.env.REACT_APP_BACKEND_URL}:${process.env.REACT_APP_BACKEND_PORT}/admin/quiz/${quizid}`;\n\n    try {\n\n      const response  = await fetch(action === 'start'?`${quiz_url}/start`:`${quiz_url}/end`,{\n        method:\"POST\",\n        headers:{\n          \"Content-Type\":\"application/json\",\n          \"Authorization\":\"Bearer \"+token\n        },\n        body:JSON.stringify({quizid})\n      });\n      const result  = await response.json();\n      setSessionId(result.sessionId);\n\n      if(action === 'start'){\n        setStartModal(true);\n      }else{\n        setEndModal(true);\n      }\n\n      // Force Re-render quizzes\n      let temp = [];\n          temp = quizzes;\n          setQuizzes([]);\n          setQuizzes(temp);\n\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  const startTheGame = async(quizid,isActive)=>{\n    if(isActive){\n      startOrEnd(quizid,'end');\n      return;\n    }\n    startOrEnd(quizid,'start');\n  }\n\n  const { error, loading } = useFetch(`${process.env.REACT_APP_BACKEND_URL}:${process.env.REACT_APP_BACKEND_PORT}/admin/quiz`, quizzes, setQuizzes,'quiz');\n\n  return (\n    <>\n      <CssBaseline />\n      <main>\n        <Container className={classes.cardGrid} maxWidth=\"md\">\n          {/* End hero unit */}\n          <Grid container spacing={4}>\n            {loading && <Typography>Loading...</Typography>}\n          {error && (<Alert style={{width:'100%'}} severity=\"error\">\n            {error}\n          </Alert>)}\n          {success && (<Alert style={{width:'100%'}} severity=\"success\">\n            {success}\n          </Alert>)}\n            {quizzes && quizzes.map((quiz) => {\n              let isActive = quiz.active && typeof quiz.active === 'number';\n            return (<Grid item key={quiz.id} xs={12} sm={6} md={4}>\n                <Card className={classes.card}>\n                  <Link to={'quiz/'+quiz.id} >\n                  {quiz.thumbnail ? (<CardMedia\n                    className={classes.cardMedia}\n                    image={quiz.thumbnail}\n                    title={quiz.name}\n                  />) : (<CardMedia\n                  className={classes.cardMedia}\n                  image=\"https://cdn.shopify.com/s/files/1/0533/2089/files/placeholder-images-image_large.png?format=webp&v=1530129081\"\n                  title={quiz.name} />)}\n                  </Link>\n                  <CardContent className={classes.cardContent}>\n                    <Link to={'quiz/'+quiz.id} >\n                    <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                      {quiz.name}\n                    </Typography>\n                    </Link>\n                    {/* <Typography>\n                      This is a media card. You can use this section to describe the content.\n                    </Typography> */}\n                  </CardContent>\n                  <CardActions>\n                    <Button onClick={()=>startTheGame(quiz.id,isActive)} size=\"small\" color=\"primary\" startIcon={quiz.active && typeof quiz.active === 'number'?<StopIcon />:<PlayArrowIcon />}>\n                      {quiz.active && typeof quiz.active === 'number'?'stop':'start'}\n                    </Button>\n                    <Button component={Link} to={'quiz/edit/'+quiz.id} size=\"small\" color=\"primary\" startIcon={<EditIcon />}>\n                      Edit\n                    </Button>\n                    <Button size=\"small\" color=\"secondary\" startIcon={<DeleteIcon />} onClick={()=>{\n                      setOpen(true);\n                      setDeleteId(quiz.id);\n                    }}>\n                      Delete\n                    </Button>\n                  </CardActions>\n                </Card>\n              </Grid>\n            )\n          })}\n          </Grid>\n\n          <Dialog open={open} onClose={()=>setOpen(false)} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Confirm</DialogTitle>\n        <DialogContent>\n          Are you sure you want to delete this quiz?\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={()=>setOpen(false)} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={()=>deleteQuiz(quizzes,deleteId)} color=\"primary\">\n            Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Dialog open={startModal} onClose={()=>setStartModal(false)} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Session {sessionId} started!</DialogTitle>\n        <DialogContent>\n          {`${process.env.REACT_APP_FRONTEND_URL}:${process.env.REACT_APP_FRONTEND_PORT}/#/game/join/${sessionId}`}\n          <Button size=\"small\" color=\"primary\"   onClick={() =>  {\n            setCopytext('copied!');\n            return navigator.clipboard.writeText(`${process.env.REACT_APP_FRONTEND_URL}:${process.env.REACT_APP_FRONTEND_PORT}/#/game/join/${sessionId}`)\n            }}>{copytext}</Button>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={()=>setStartModal(false)} color=\"primary\">\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Dialog open={endModal} onClose={()=>setEndModal(false)} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Session {sessionId} started!</DialogTitle>\n        <DialogContent>\n        Would you like to view the results?\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={()=>setEndModal(false)} color=\"primary\">\n            Close\n          </Button>\n          <Button component={Link} to={'/results/'+sessionId} color=\"primary\">\n            Yes\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n        </Container>\n      </main>\n      {/* Footer */}\n      {/* End footer */}\n    </>\n  );\n}","import React from 'react'\nimport Typography from '@material-ui/core/Typography';\nimport Link from '@material-ui/core/Link';\n\nexport default function footer() {\n\n    function Copyright() {\n        return (\n          <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright © '}\n            <Link color=\"inherit\" href=\"https://material-ui.com/\">\n              Your Website\n            </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n          </Typography>\n        );\n    }\n\n    return (\n        <footer>\n        <Typography variant=\"h6\" align=\"center\" gutterBottom>\n          Footer\n        </Typography>\n        <Typography variant=\"subtitle1\" align=\"center\" color=\"textSecondary\" component=\"p\">\n          Something here to give the footer a purpose!\n        </Typography>\n        <Copyright />\n      </footer>\n    )\n}\n","import {useState} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport Avatar from '@material-ui/core/Avatar';\nimport Alert from '@material-ui/lab/Alert';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport CreateIcon from '@material-ui/icons/Create';import Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport {getToken} from '../../../services/token';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Your Website\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function Register() {\n  const classes = useStyles();\n  const [quiz, setQuiz] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const history = useHistory();\n\n  const submitNewQuiz = async (e) => {\n    e.preventDefault();\n\n    const token = await getToken();\n\n    const payload = {\n      method: 'POST',\n      body: JSON.stringify({name:quiz}),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer '+token\n      },\n    }\n\n    try{\n\n    const new_quiz_url  = `${process.env.REACT_APP_BACKEND_URL}:${process.env.REACT_APP_BACKEND_PORT}/admin/quiz/new`;\n    const response      = await fetch(new_quiz_url, payload)\n    const result        = await response.json();\n\n      if(result.hasOwnProperty('error')) {\n        setError(result.error);\n        return;\n      }\n\n      setSuccess('Successfully added, redirecting to quizzes..');\n      setTimeout(()=>{\n        history.push('/dashboard');\n      },1000)\n\n  }catch(err){\n    console.log(err)\n  }\n\n  }\n\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <CreateIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Add new quiz\n        </Typography>\n        {error && (<Alert style={{width:'100%'}} severity=\"error\">\n            {error}\n          </Alert>)}\n          {success && (<Alert style={{width:'100%'}} severity=\"success\">\n            {success}\n          </Alert>)}\n        <form onSubmit={submitNewQuiz} className={classes.form} noValidate>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"quiz\"\n                label=\"Quiz Name\"\n                name=\"quiz\"\n                autoComplete=\"qname\"\n                onChange={(e)=>setQuiz(e.target.value)}\n              />\n            </Grid>\n          </Grid>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            Add\n          </Button>\n        </form>\n      </div>\n      <Box mt={5}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}","export default function Notfound() {\n    return (\n        <div className=\"not-found\">\n            <h1>404 Not Found</h1>\n        </div>\n    )\n}\n","import {useState} from 'react';\nimport {useHistory,useParams} from 'react-router-dom';\nimport Avatar from '@material-ui/core/Avatar';\nimport Alert from '@material-ui/lab/Alert';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport CreateIcon from '@material-ui/icons/Create';import Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport {getToken} from '../../../services/token';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Your Website\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function JoinGame() {\n  const classes = useStyles();\n  const [playerName, setPlayerName] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const history = useHistory();\n  const {sid} = useParams();\n\n  const joinTheGame = async (e,sessionId) => {\n    e.preventDefault();\n\n    const token = await getToken();\n\n    const payload = {\n      method: 'POST',\n      body: JSON.stringify({name:playerName}),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer '+token\n      }\n    }\n    console.log(payload)\n\n    try{\n\n    const join_url  = `${process.env.REACT_APP_BACKEND_URL}:${process.env.REACT_APP_BACKEND_PORT}/play/join/${sessionId}`;\n    console.log(join_url)\n    const response  = await fetch(join_url, payload)\n    const result    = await response.json();\n\n      if(result.hasOwnProperty('error')) {\n        setError(result.error);\n        return;\n      }\n\n      console.log(result);\n\n      setSuccess('Successfully added, redirecting to quizzes..');\n      setTimeout(()=>{\n        history.push('/dashboard');\n      },1000)\n\n  }catch(err){\n    console.log(err)\n  }\n\n  }\n\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <CreateIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Join the Game\n        </Typography>\n        {error && (<Alert style={{width:'100%'}} severity=\"error\">\n            {error}\n          </Alert>)}\n          {success && (<Alert style={{width:'100%'}} severity=\"success\">\n            {success}\n          </Alert>)}\n        <form onSubmit={(e)=>joinTheGame(e,sid)} className={classes.form} noValidate>\n          <Grid container spacing={2}>\n\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"sessionid\"\n                label=\"Session Id\"\n                name=\"sessionid\"\n                value={sid}\n                autoComplete=\"sessionid\"\n                disabled\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"playername\"\n                label=\"Player name\"\n                name=\"playername\"\n                autoComplete=\"playername\"\n                onChange={(e)=>setPlayerName(e.target.value)}\n              />\n            </Grid>\n\n          </Grid>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            Join Now\n          </Button>\n        </form>\n      </div>\n      <Box mt={5}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}","import { useState } from 'react';\nimport { useHistory,Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\n// import MenuIcon from '@material-ui/icons/Menu';\nimport AddIcon from '@material-ui/icons/Add';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { clearToken } from '../services/token';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n    color:'#ffffff'\n  },\n}));\n\nexport default function ButtonAppBar() {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n  const history = useHistory();\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const logout = ()=>{\n      clearToken();\n      history.push('/');\n  }\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          {/* <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n            <MenuIcon />\n          </IconButton> */}\n          <Typography component={Link} variant=\"h6\" to=\"/dashboard\" className={classes.title}>\n            Game Board\n          </Typography>\n          <Button component={ Link } color=\"inherit\" to=\"/quiz/new\" startIcon={<AddIcon />}>Add New Game</Button>\n          <div>\n              <IconButton\n                aria-label=\"account of current user\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                onClick={handleMenu}\n                color=\"inherit\"\n              >\n                <AccountCircleIcon />\n              </IconButton>\n              <Menu\n                id=\"menu-appbar\"\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                  vertical: 'top',\n                  horizontal: 'right',\n                }}\n                keepMounted\n                transformOrigin={{\n                  vertical: 'top',\n                  horizontal: 'right',\n                }}\n                open={open}\n                onClose={handleClose}\n              >\n                <MenuItem onClick={handleClose}>Profile</MenuItem>\n                <MenuItem onClick={logout}>Logout</MenuItem>\n              </Menu>\n            </div>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}","import {useEffect,useState} from 'react'\nimport { useParams } from 'react-router-dom';\nimport Container from '@material-ui/core/Container';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport { getToken } from '../../../services/token';\nimport Alert from '@material-ui/lab/Alert';\n\nexport default function SingleQuiz() {\n    let { id } = useParams();\n    const [quiz,setQuiz]   = useState([]);\n    const [error,setError] = useState('');\n\n    useEffect(() => {\n        (async()=>{\n\n          const token = await getToken();\n\n          try {\n\n            const single_quiz_url = `${process.env.REACT_APP_BACKEND_URL}:${process.env.REACT_APP_BACKEND_PORT}/admin/quiz/${id}`;\n            const response  = await fetch(single_quiz_url,{\n              headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \"+token\n              }\n            });\n            const result    = await response.json();\n\n            if (response.status !== 200) {\n              setError('Something went wrong with server.');\n              return;\n            }\n\n            setQuiz(result);\n\n          } catch (err) {\n\n            setError(err);\n\n          }\n\n\n\n        })()\n\n           // eslint-disable-next-line react-hooks/exhaustive-deps\n      }, [])\n\n\n    const { name,questions,thumbnail } = quiz;\n\n    return (\n        <Container maxWidth=\"md\" style={{padding:'1.2rem'}}>\n            {error && (<Alert style={{width:'100%'}} severity=\"error\">\n            {error}\n          </Alert>)}\n            {thumbnail && (<CardMedia\n             component=\"img\"\n             alt={name}\n             height=\"200\"\n             image={thumbnail}\n             title={name}\n            />)}\n            <Typography variant=\"h6\" color=\"textSecondary\">\n                {name}\n            </Typography>\n            <ul className=\"questions\">\n            {questions && questions.map((q,idex)=>(\n                <li key={idex}>{q.question}</li>\n            ))}\n            </ul>\n        </Container>\n    )\n}\n","import {useState,useEffect} from 'react';\nimport {useParams,useHistory} from 'react-router-dom';\nimport Avatar from '@material-ui/core/Avatar';\nimport Alert from '@material-ui/lab/Alert';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport CreateIcon from '@material-ui/icons/Create';\nimport AddIcon from '@material-ui/icons/Add';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport {getToken} from '../../../services/token';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Your Website\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n        margin: theme.spacing(1),\n        width: '100%',\n      },\n      selectEmpty: {\n        marginTop: theme.spacing(2),\n      },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function Register() {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [quiz, setQuiz] = useState('');\n  const [time, setTime] = useState(20);\n  const [point, setPoint] = useState(5);\n  const [NewQuestion, setNewQuestion] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [selected, setSelected] = useState('');\n  const history = useHistory();\n  const {id} = useParams();\n\n  const handleChange = (e) => {\n    setSelected(e.target.value);\n  };\n\n  const addNewQuestion = (questions) =>{\n    const questionArray = questions ? questions : [];\n    const obj = {\n      \"question\": NewQuestion,\n      \"answers\": [\n        \"Answer one\",\n        \"Answer two\",\n        \"Answer three\"\n      ],\n      \"correct\": 1\n    }\n\n    questionArray.push(obj);\n    quiz.questions = questionArray;\n    setQuiz(quiz);\n    setOpen(false);\n  }\n\n  const updateQuiz = async (e,quizid) => {\n    e.preventDefault();\n    const token = await getToken();\n    quiz.time = time;\n    quiz.point = point;\n\n    const payload = {\n      method: 'PUT',\n      body: JSON.stringify(quiz),\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer '+token\n      },\n    }\n\n    try{\n\n    const new_quiz_url  = `${process.env.REACT_APP_BACKEND_URL}:${process.env.REACT_APP_BACKEND_PORT}/admin/quiz/${quizid}`;\n    const response      = await fetch(new_quiz_url, payload)\n    const result        = await response.json();\n\n      if(result.hasOwnProperty('error')) {\n        setError(result.error);\n        return;\n      }\n\n      setSuccess('Successfully added, redirecting to quizzes..');\n      setTimeout(()=>{\n        history.push('/dashboard');\n      },1000)\n\n  }catch(err){\n    console.log(err)\n  }\n\n  }\n\n  useEffect(() => {\n    (async()=>{\n\n      const token = await getToken();\n\n      try {\n\n        const single_quiz_url = `${process.env.REACT_APP_BACKEND_URL}:${process.env.REACT_APP_BACKEND_PORT}/admin/quiz/${id}`;\n        const response  = await fetch(single_quiz_url,{\n          headers:{\n            \"Content-Type\":\"application/json\",\n            \"Authorization\":\"Bearer \"+token\n          }\n        });\n        const result    = await response.json();\n\n        if (response.status !== 200) {\n          setError('Something went wrong with server.');\n          return;\n        }\n\n        setQuiz(result);\n\n      } catch (err) {\n\n        setError(err);\n\n      }\n\n    })()\n\n       // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const {name,questions} = quiz;\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <CreateIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Edit quiz\n        </Typography>\n        {error && (<Alert style={{width:'100%'}} severity=\"error\">\n            {error}\n          </Alert>)}\n          {success && (<Alert style={{width:'100%'}} severity=\"success\">\n            {success}\n          </Alert>)}\n        <form onSubmit={(e)=>updateQuiz(e,id)} className={classes.form} noValidate>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"quiz\"\n                label=\"Quiz Name\"\n                name=\"quiz\"\n                value={name || ''}\n                autoComplete=\"qname\"\n                InputLabelProps={{ shrink: true }}\n                onChange={(e)=>setQuiz(e.target.value)}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"time\"\n                label=\"Time Limit\"\n                name=\"time\"\n                value={time}\n                autoComplete=\"time\"\n                InputLabelProps={{ shrink: true }}\n                onChange={(e)=>setTime(e.target.value)}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"point\"\n                label=\"Point for a single question\"\n                name=\"point\"\n                value={point}\n                autoComplete=\"point\"\n                InputLabelProps={{ shrink: true }}\n                onChange={(e)=>setPoint(e.target.value)}\n              />\n            </Grid>\n            <Grid item xs={12}>\n            <FormControl className={classes.formControl}>\n            <InputLabel id=\"q-type\">Question Type</InputLabel>\n            <Select\n            labelId=\"qtype\"\n            id=\"qtype\"\n            value=\"0\"\n            onChange={handleChange}\n            >\n                <MenuItem value=\"0\">Single Choice</MenuItem>\n                <MenuItem value=\"1\">Multiple Choice</MenuItem>\n            </Select>\n            </FormControl>\n            </Grid>\n            <Grid item xs={12}>\n            <Typography variant=\"h6\">\n                Questions\n            </Typography>\n            <Typography align=\"right\" variant=\"body2\">\n            <Button size=\"small\" onClick={()=>setOpen(true)} color=\"inherit\" startIcon={<AddIcon />}>Add New Question</Button>\n            </Typography>\n            {questions && (<FormControl className={classes.formControl}>\n            <InputLabel id=\"demo-simple-select-label\">Pick a question to edit</InputLabel>\n            <Select\n            labelId=\"questions\"\n            id=\"questions\"\n            value={selected}\n            onChange={handleChange}\n            >\n                {questions.map((q,index)=>(\n                <MenuItem key={index} value={index}>{q.question}</MenuItem>\n                ))}\n            </Select>\n            </FormControl>)}\n            </Grid>\n          </Grid>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            Update\n          </Button>\n        </form>\n      </div>\n      <Box mt={5}>\n        <Copyright />\n      </Box>\n\n      <Dialog open={open} onClose={()=>setOpen(false)} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Add New Question</DialogTitle>\n        <DialogContent>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"question\"\n            onChange={(e)=>setNewQuestion(e.target.value)}\n            label=\"Question\"\n            type=\"text\"\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={()=>setOpen(false)} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={()=>addNewQuestion(questions)} color=\"primary\">\n            Add\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Container>\n  );\n}","import {useEffect,useState} from 'react';\nimport {useParams} from 'react-router-dom';\nimport Alert from '@material-ui/lab/Alert';\nimport Container from '@material-ui/core/Container';\nimport { getToken } from '../../services/token';\n\nconst Results = () =>{\n    const { sid } = useParams();\n    const [results,setResults] = useState([]);\n    const [error,setError] = useState('');\n    useEffect(() => {\n        (async()=>{\n        const token = await getToken();\n         const res  = await fetch(`${process.env.REACT_APP_BACKEND_URL}:${process.env.REACT_APP_BACKEND_PORT}/admin/session/${sid}/results`,{\n             headers:{\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer '+token\n            }\n         });\n         const data = await res.json();\n         if(data.hasOwnProperty('error')){\n             setError(data.error);\n         }\n         setResults(data.results);\n        })()\n\n           // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    return (\n        <Container maxWidth=\"md\" style={{padding:'1.2rem'}}>\n          {error && (<Alert style={{width:'100%'}} severity=\"error\">\n            {error}\n          </Alert>)}\n          {results.length !== 0?(<h4>Joined Players</h4>):'No Players!'}\n          <ul>\n            {results && results.map((r,i)=>(<li key={i}>{r.name}</li>))}\n          </ul>\n        </Container>\n    )\n}\n\nexport default Results;","import React, { useEffect, useState } from 'react';\nimport { Switch, Route, useLocation, useHistory } from 'react-router-dom';\nimport Register from './components/auth/register';\nimport Login from './components/auth/login';\nimport Dashboard from './components/pages/dashboard';\nimport Footer from './components/footer';\nimport AddNewQuiz from './components/pages/quiz/add';\nimport Notfound from './components/pages/notFound';\nimport JoinGame from './components/pages/game/join';\nimport {checkAuth} from './services/token';\nimport Navbar from './components/navbar';\nimport SingleQuiz from './components/pages/quiz/detail';\nimport EditQuiz from './components/pages/quiz/edit';\nimport Results from './components/pages/results';\n\nfunction App () {\n  const location = useLocation();\n  const history = useHistory();\n  const [isLoggedIn,setIsLoggedIn] = useState(false);\n  useEffect(() => {\n    (async()=>{\n      const {auth} = await checkAuth();\n      setIsLoggedIn(auth);\n\n      if (auth && location.pathname !== '/dashboard' && location.pathname !== '/quiz/new' && location.pathname === '/') {\n        // redirect to dashboard\n        history.push('/dashboard');\n      }\n      if(!auth && location.pathname !== '/' && location.pathname !== '/register') {\n        // redirect to home page\n        history.push('/');\n      }\n    })()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.pathname]);\n\n  return (\n    <div>\n      {isLoggedIn && (<Navbar />)}\n      <Switch>\n        <Route path=\"/register\" exact component={Register}/>\n        <Route path=\"/\" exact component={Login}/>\n        <Route path=\"/dashboard\" exact component={Dashboard}/>\n        <Route path=\"/quiz/new\" exact component={AddNewQuiz}/>\n        <Route path=\"/quiz/edit/:id\" exact component={EditQuiz}/>\n        <Route path=\"/quiz/:id\" exact component={SingleQuiz}/>\n        <Route path=\"/game/join/:sid\" exact component={JoinGame}/>\n        <Route path=\"/results/:sid\" exact component={Results}/>\n        <Route>\n          <Notfound />\n        </Route>\n      </Switch>\n      {isLoggedIn && (<Footer />)}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <HashRouter>\n    <App />\n    </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}